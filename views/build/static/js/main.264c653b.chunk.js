(this.webpackJsonpviews=this.webpackJsonpviews||[]).push([[0],{227:function(e,t,a){e.exports=a.p+"static/media/logo.c4c0a4c3.svg"},234:function(e,t,a){e.exports=a.p+"static/media/workout_icon.124d0099.svg"},235:function(e,t,a){e.exports=a.p+"static/media/back_icon.206a4cae.svg"},236:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAIAAAD2HxkiAAAABmJLR0QA/wD/AP+gvaeTAAAFM0lEQVR4nO3dwY7bNhRA0bro//+yu8giQJEQqMzhfZycsw1syaNccPEk6vV+v/8COn/XJwB/OhFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxP45fLzX63X4iBu93+/f/dPidy0+tfDsC+efxnzP/lCfsBJCTIQQEyHERAgxEUJMhBATIcRECLHTw/qF80PSX3o2aN4+Cn/2qe1z/O0X5eqr/EWshBATIcRECDERQkyEEBMhxEQIMRFCbNCwfmH7aHX7yHj7KHz+HH+7+Vf5i1gJISZCiIkQYiKEmAghJkKIiRBiIoTYHcP6q80fhd8y1P6urIQQEyHERAgxEUJMhBATIcRECDERQsywfqjtD8IvPmWO37ISQkyEEBMhxEQIMRFCTIQQEyHERAixO4b180fG2ze0f+bZsYbskD//Kn8RKyHERAgxEUJMhBATIcRECDERQkyEEBs0rD851N5uyMvih9wzsDDkNEaxEkJMhBATIcRECDERQkyEEBMhxEQIsdcf+zjzMVdvMn/1yd/CSggxEUJMhBATIcRECDERQkyEEBMhxE4P608+WP3spw15Rn677Wd48gufueV6WQkhJkKIiRBiIoSYCCEmQoiJEGIihNjpbfCHDNAXtn/h1dP/+SP+Icf6hJUQYiKEmAghJkKIiRBiIoSYCCEmQoidHtZvH6A/c/Ld7kNm6yePtfjJJ+9PGDWRX7ASQkyEEBMhxEQIMRFCTIQQEyHERAixQe+sPzloXjj5qP7C1XvCD9nTYM7/7TUrIcRECDERQkyEEBMhxEQIMRFCTIQQGzSs327+5vknH/BfGHI7wcJ33QnhByshxEQIMRFCTIQQEyHERAgxEUJMhBC7flg/5I3wQ0bGQ3Yn2O57v87eSggxEUJMhBATIcRECDERQkyEEBMhxE6/s37h5AD9u745/eQD/icH6Ns/NeoeFSshxEQIMRFCTIQQEyHERAgxEUJMhBA7Pay/emv6IU6e/JCN+hdO3sjxRayEEBMhxEQIMRFCTIQQEyHERAgxEULs9LD+6lH4/GOdvBfipPln+AkrIcRECDERQkyEEBMhxEQIMRFCTIQQu/6d9UOc3MN/4ep3u5/cqN+T9cBPIoSYCCEmQoiJEGIihJgIISZCiA3aBn++xRh3yP7zQ2bQ809jFCshxEQIMRFCTIQQEyHERAgxEUJMhBA7PaxfGPKM//xt8E8+0v7MyUt59fb+P1gJISZCiIkQYiKEmAghJkKIiRBiIoTYoGH9wtXT5JM75J/cLn7IXQ1D7vH4hJUQYiKEmAghJkKIiRBiIoSYCCEmQojdMayfb/sofGH+y+IXtn/hLY/PL1gJISZCiIkQYiKEmAghJkKIiRBiIoSYYX3p5Ivpr94ufv4ND5+wEkJMhBATIcRECDERQkyEEBMhxEQIsTuG9aNGq//X9tn6s2MtXP3nXbjld1kJISZCiIkQYiKEmAghJkKIiRBiIoTY6/BAc/5D3AsnH04fcqzt5v8HOD/itxJCTIQQEyHERAgxEUJMhBATIcRECLHTw3rgP6yEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEPsXikGaYs4oYrEAAAAASUVORK5CYII="},238:function(e,t,a){e.exports=a(401)},243:function(e,t,a){},244:function(e,t,a){},291:function(e,t){},293:function(e,t){},307:function(e,t){},309:function(e,t){},337:function(e,t){},339:function(e,t){},340:function(e,t){},346:function(e,t){},348:function(e,t){},366:function(e,t){},368:function(e,t){},380:function(e,t){},383:function(e,t){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(47),l=a.n(c),o=(a(243),a(7)),s=(a(244),a(35)),m=a(15),u=a(9),i=a.n(u),E=a(23),p=a(222),d=a(409),h=a(410),b=a(405),g=a(31),f=a(86),k=a(408),x=a(411);function v(e){var t=e.workout,a=(t._id,t.workout_type),c=Object(n.useState)(e.formData.pb_date),l=Object(o.a)(c,2),s=l[0],m=l[1],u=Object(n.useState)(""),d=Object(o.a)(u,2),h=d[0],v=d[1],y=Object(n.useState)(""),_=Object(o.a)(y,2),w=_[0],j=_[1],N=Object(n.useState)(""),C=Object(o.a)(N,2),O=C[0],S=C[1],I=function(t){e.setFormData(Object(f.a)(Object(f.a)({},e.formData),{},Object(g.a)({},t.target.name,t.target.value)))},R=function(){var t=Object(E.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.addHandler();case 2:m((new Date).toISOString().substring(0,10)),v(""),j(""),S("");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(p.a,null,r.a.createElement(k.a,null,r.a.createElement(k.a.Group,{as:b.a},r.a.createElement(p.a,{className:"col-5 p-0"},"weightlifting"!==a&&r.a.createElement(b.a,{className:"mx-2 text-center"},r.a.createElement(p.a,{className:"p-0 time__input"},r.a.createElement(k.a.Control,{className:"text-center",size:"sm",type:"number",placeholder:"00",value:w,name:"pb_time_min",onChange:function(e){j(e.target.value),I(e)}})),r.a.createElement("span",{className:"my-auto mx-1"},":"),r.a.createElement(p.a,{className:"p-0 time__input"},r.a.createElement(k.a.Control,{className:"text-center",size:"sm",type:"number",placeholder:"00",value:O,name:"pb_time_sec",onChange:function(e){S(e.target.value),I(e)}}))),r.a.createElement(p.a,null,r.a.createElement(k.a.Control,{size:"sm",type:"number",placeholder:"lb",value:h,name:"pb_weight",onChange:function(e){v(e.target.value),I(e)}}))),r.a.createElement(p.a,{className:"col-5 p-0"},r.a.createElement(k.a.Control,{size:"sm",type:"date",value:s,name:"pb_date",onChange:function(e){m(e.target.value),I(e)}})),r.a.createElement(p.a,{className:"col-2 p-0 pl-1 "},r.a.createElement(x.a,{className:"btn btn-block",size:"sm",onClick:R},"+")))))}var y=a(407),_=a(62),w=a.n(_),j=a(11),N=a.n(j);function C(e){var t=e.record,a=t.pb_date,c=t.pb_time_min,l=t.pb_time_sec,s=t.pb_weight,m=t.prescribed,u=(t.liked_by,e.workout),d=(u._id,u.description,u.prescribed_female,u.prescribed_male),h=(u.workout_name,"");switch(u.workout_type){case"weightlifting":h="".concat(s,"lb");break;case"benchmark":h="".concat(c,":").concat(l.toString().padStart(2,"0"))}var g=w()().diff(a,"days")>5?w()(a).format("D MMM YYYY"):w()(a).fromNow(),f=function(){var t=Object(E.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.prev=1,t.next=4,N.a.delete("".concat("https://pbandjot.herokuapp.com/api","/records/").concat(a),{headers:{"x-auth-token":n}});case 4:return t.sent,t.next=7,e.fetchRecords();case 7:C(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),k=Object(n.useState)(!1),v=Object(o.a)(k,2),_=v[0],j=v[1],C=function(){return j(!1)},O=r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"my-2"},r.a.createElement(p.a,{xs:5},r.a.createElement(b.a,{className:""},r.a.createElement(p.a,{className:"text-right p-0"},h),r.a.createElement(p.a,{className:"p-0 pl-1 text-center"},d&&m&&"Rx"))),r.a.createElement(p.a,{xs:5,className:"text-muted font-italic text-center"},g),r.a.createElement(p.a,{xs:2},r.a.createElement(x.a,{size:"sm",variant:"outline-danger",onClick:function(){return j(!0)}},"-"))),r.a.createElement(y.a,{show:_,onHide:C},r.a.createElement(y.a.Header,{closeButton:!0},"Delete record?"),r.a.createElement(y.a.Footer,null,r.a.createElement(x.a,{variant:"secondary",onClick:C},"No"),r.a.createElement(x.a,{variant:"danger",onClick:function(){return f(e.record._id)}},"Yes"))));return r.a.createElement("div",null,O)}function O(e){var t=function(){if(j.length>0)switch(y.workout_type){case"weightlifting":var e=j[0].pb_weight;return j.forEach((function(t){e<t.pb_weight&&(e=t.pb_weight)})),"".concat(e,"lb");case"benchmark":var t=86400;return j.forEach((function(e){var a=60*e.pb_time_min+e.pb_time_sec;t>a&&(t=a)})),"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"))}},a=Object(n.useState)((new Date).toISOString().substring(0,10)),c=Object(o.a)(a,2),l=c[0],s=(c[1],{pb_date:l,pb_weight:null,pb_time_min:null,pb_time_sec:null,workout_id:e.workout._id}),m=Object(n.useState)(s),u=Object(o.a)(m,2),g=u[0],f=u[1],k=Object(n.useState)(e.workout),x=Object(o.a)(k,2),y=x[0],_=(x[1],Object(n.useState)(e.workout.records)),w=Object(o.a)(_,2),j=w[0],O=w[1],S=Object(n.useState)(t()),I=Object(o.a)(S,2),R=I[0],A=I[1],Q=function(){var a=Object(E.a)(i.a.mark((function a(){var n,r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=localStorage.getItem("token"),a.next=3,N.a.get("".concat("https://pbandjot.herokuapp.com/api","/records/workouts/").concat(e.workout._id),{headers:{"x-auth-token":n}});case 3:r=a.sent,O(r.data.records),A(t()),console.log(R);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();Object(n.useEffect)((function(){Q()}),[]);var M=function(){var e=Object(E.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,N.a.post("".concat("https://pbandjot.herokuapp.com/api","/records"),g,{headers:{"x-auth-token":t}});case 3:e.sent,Q();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j.sort((function(e,t){return e.pb_date>t.pb_date?-1:e.pb_date<t.pb_date?1:0})),r.a.createElement(p.a,{className:"mx-auto my-1 "},r.a.createElement(d.a,null,r.a.createElement(h.a,{className:"record__card"},r.a.createElement(d.a.Toggle,{className:"text-left",as:h.a.Header,eventKey:"0"},r.a.createElement(b.a,null,r.a.createElement(p.a,null,y.workout_name),r.a.createElement(p.a,{className:"text-right"},R))),r.a.createElement(d.a.Collapse,{eventKey:"0"},r.a.createElement(h.a.Body,{className:"small__text"},r.a.createElement(b.a,{className:""},r.a.createElement(v,{workout:y,formData:g,setFormData:f,addHandler:M})),r.a.createElement(b.a,null,r.a.createElement(p.a,null,j.map((function(e){return r.a.createElement(C,{workout:y,record:e,key:e._id,fetchRecords:Q})})))))))))}function S(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(a),s=Object(o.a)(l,2),m=s[0],u=s[1],p=function(){var e=Object(E.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],n="all"!==t.target.value?a.filter((function(e){return e.workout_type===t.target.value})):a,u(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=localStorage.getItem("token"),t=null,a=null;(function(){var e=Object(E.a)(i.a.mark((function e(n){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("".concat("https://pbandjot.herokuapp.com/api","/records"),{headers:{"x-auth-token":n}});case 3:return r=e.sent,t=r.data.records,e.next=7,N.a.get("".concat("https://pbandjot.herokuapp.com/api","/workouts"));case 7:l=e.sent,(a=l.data.workouts).forEach((function(e){e.records=[],t.forEach((function(t){e._id.toString()==t.workout_id.toString()&&e.records.push(t)}))})),a.sort(d),c(a),u(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}})()(e)}),[]);var d=function(e,t){if(e.records.length>0&&t.records.length>0){var a=h(e.records),n=h(t.records);return a>n?-1:a<n?1:0}return 0==e.records.length&&t.records.length>0?1:0==t.records.length&&e.records.length>0?-1:0},h=function(e){var t=e[0].pb_date;return e.forEach((function(e){e.pb_date>t&&(t=e.pb_date)})),t};return r.a.createElement("div",null,r.a.createElement("div",{className:"my-2"},r.a.createElement(x.a,{value:"all",onClick:p,variant:"outline-dark"},"All")," ",r.a.createElement(x.a,{value:"weightlifting",onClick:p,variant:"outline-dark"},"Weightlifting")," ",r.a.createElement(x.a,{value:"benchmark",onClick:p,variant:"outline-dark"},"Benchmark WODs")," "),m?m.map((function(e){return r.a.createElement(O,{workout:e,key:e._id})})):"STANDBY FOR GAINS")}var I=a(227),R=a.n(I),A=a(148);function Q(e){var t=e.size?e.size:80;return r.a.createElement(A.Fade,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"square"},r.a.createElement("img",{src:R.a,alt:"pbandjot",width:t,className:"p-2"}))))}function M(e){var t=Object(m.f)(),a=e.workout;return r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,{as:"a",href:"#",className:"record__card my-1",onClick:function(){e.setCurrentWorkout(a),t.push("/workout")}},r.a.createElement(h.a.Header,null,r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"text-left my-auto"},a.workout_name," "),r.a.createElement(p.a,{className:"text-right font-italic"},r.a.createElement(b.a,null,r.a.createElement(p.a,null,a.pb_value)),r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"small font-weight-light"},a.pb_date?w()(a.pb_date).format("DD MMM"):""))))))))}function B(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=function(e,t){if(!(e.length>0))return"";switch(t){case"weightlifting":var a=e[0].pb_weight,n=e[0].pb_date;return e.forEach((function(e){a<e.pb_weight&&(a=e.pb_weight,n=e.pb_date)})),{pb_value:"".concat(a," lb"),pb_date:n};case"benchmark":var r=86400,c=e[0].pb_date;return e.forEach((function(e){var t=60*e.pb_time_min+e.pb_time_sec;r>t&&(r=t,c=e.pb_date)})),{pb_value:"".concat(Math.floor(r/60),":").concat((r%60).toString().padStart(2,"0")),pb_date:c}}},m=function(e){if(e.length>0){var t=e[0].pb_date;return e.forEach((function(e){e.pb_date>t&&(t=e.pb_date)})),t}return""},u=function(e,t){return e.records.length>0&&t.records.length>0?e.latest_record_date>t.latest_record_date?-1:e.latest_record_date<t.latest_record_date?1:0:0==e.records.length&&t.records.length>0?1:0==t.records.length&&e.records.length>0?-1:0},d=function(){var e=Object(E.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,N.a.get("".concat("https://pbandjot.herokuapp.com/api","/records/allworkouts"),{headers:{"x-auth-token":t}});case 3:a=e.sent,(n=a.data.workouts).forEach((function(e){var t=s(e.records,e.workout_type);e.pb_value=t.pb_value,e.pb_date=t.pb_date,e.latest_record_date=m(e.records)})),n.sort(u),l(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){d()}),[]);var h=c.map((function(t){return r.a.createElement(M,{workout:t,setCurrentWorkout:e.setCurrentWorkout,key:t._id})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"mt-3"},r.a.createElement(p.a,null,h)))}function T(e){var t=e.user,a=e.isAuth,n=e.setCurrentWorkout,c=a?120:180;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{xs:"auto"},r.a.createElement(Q,{size:c}))),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"justify-content-center mt-2"},r.a.createElement(p.a,{xs:"auto"},r.a.createElement("h5",null,"Your personal bests."))),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{md:{span:8},xs:{span:10},className:"text-center"},r.a.createElement(B,{user:t,isAuth:a,setCurrentWorkout:n})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{xs:"auto mt-2"},r.a.createElement("h1",null,"PB&Jot"))),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{xs:"auto"},r.a.createElement("h4",null,"Record your personal bests."))),r.a.createElement(b.a,{className:"justify-content-center my-3"},r.a.createElement(p.a,{md:{span:3},xs:{span:8},className:""},r.a.createElement(x.a,{variant:"warning",block:!0,href:"/login"},"Login"))),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{md:{span:3},xs:{span:8},className:""},r.a.createElement(x.a,{variant:"warning",block:!0,href:"/register"},"Register")))))}var D=a(406);function H(e){var t=e.isAuth,a=Object(m.f)();return r.a.createElement("div",null,r.a.createElement(s.b,{to:"/home",onClick:e.closeMenu,className:"bm-item"},"Home"),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"#",onClick:function(){e.closeMenu(),e.logoutHandler(),a.push("/home")},className:"bm-item"},"Logout")),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/register",onClick:e.closeMenu,className:"bm-item"},"Register"),r.a.createElement(s.b,{to:"/login",onClick:e.closeMenu,className:"bm-item"},"Login")),r.a.createElement(s.b,{to:"/calculator",onClick:e.closeMenu,className:"bm-item"},"Calculator"),r.a.createElement(s.b,{to:"/share",onClick:e.closeMenu,className:"bm-item"},"Share"))}var J=a(229);function F(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.slide,{width:150,isOpen:c,onStateChange:function(e){return function(e){l(e.isOpen)}(e)},pageWrapId:"page-wrap",outerContainerId:"outer-container"},r.a.createElement(H,{closeMenu:function(){l(!1),console.log("something happened")},isAuth:e.isAuth,logoutHandler:e.logoutHandler})))}var P=a(53),Y=a(54),G=a(60),U=a(58),W=(n.Component,n.Component,n.Component,a(59)),L=a(12);function z(e){var t=Object(W.a)({initialValues:{username:"",password:""},validationSchema:L.d().shape({username:L.e().required("Required").test("checkUsernameExists","Username already exists",(function(e){return new Promise((function(t,a){N.a.get("".concat("https://pbandjot.herokuapp.com/api","/auth/usercheck/").concat(e)).then((function(e){"User exists"==e.data.message?t(!1):t(!0)})).catch((function(e){console.log(e)}))}))})),password:L.e().min(8,"Must be more than 8 characters").required("Required")}),onSubmit:function(t){e.saveData(t),e.nextStep()}}),a=t.getFieldProps,n=t.handleSubmit,c=(t.values,t.errors),l=t.touched,o=l.username&&(c.username?r.a.createElement("span",{className:"red__text"},c.username):"You are unique."),s=o||r.a.createElement("span",null,"\xa0"),m=c.password&&l.password?c.password:null,u=m||r.a.createElement("span",null,"\xa0");return r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"text-center"},r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,"Select a Username"),r.a.createElement(k.a.Control,Object.assign({type:"text",id:"username",placeholder:""},a("username"))),r.a.createElement(k.a.Text,null,s)))),r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"text-center"},r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,"Password"),r.a.createElement(k.a.Control,Object.assign({type:"password",id:"password",placeholder:""},a("password"))),r.a.createElement(k.a.Text,null,r.a.createElement("span",{className:"red__text"},u))))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(x.a,{variant:"warning",block:!0,onClick:n},"Next")))))}function K(e){var t=Object(W.a)({initialValues:{firstname:"",lastname:"",email:""},validationSchema:L.d().shape({firstname:L.e(),lastname:L.e(),email:L.e().email("Invalid email address").required("Required").test("checkEmailExists","Email already exists.",(function(e){return new Promise((function(t,a){N.a.get("".concat("https://pbandjot.herokuapp.com/api","/auth/emailcheck/").concat(e)).then((function(e){"Email exists"==e.data.message?t(!1):t(!0)})).catch((function(e){console.log(e)}))}))}))}),onSubmit:function(t){e.saveData(t),e.nextStep()}}),a=t.getFieldProps,n=t.handleSubmit,c=(t.values,t.errors),l=t.touched,o=c.email&&l.email?c.email:null,s=o||r.a.createElement("span",null,"\xa0");return r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"text-center"},r.a.createElement(k.a.Label,null,"Contact Details"),r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Control,Object.assign({className:"text-center",type:"text",placeholder:"First Name"},a("firstname"))),c.firstname&&l.firstname?c.firstname:null))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Control,Object.assign({className:"text-center",type:"text",placeholder:"Last Name"},a("lastname"))),c.lastname&&l.lastname?c.lastname:null))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(k.a.Group,{className:"text-center"},r.a.createElement(k.a.Control,Object.assign({className:"text-center",type:"email",placeholder:"Email"},a("email"))),r.a.createElement(k.a.Text,{className:"red__text"},s)))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(x.a,{block:!0,variant:"warning",onClick:n},"Next")))))}function q(e){var t=Object(W.a)({initialValues:{gender:"Gender",height:null,weight:null,home_gym:"",date_of_birth:""},validationSchema:L.d().shape({gender:L.b().oneOf(["M","F"],"Please select gender."),height:L.c().nullable(),weight:L.c().nullable(),home_gym:L.e(),date_of_birth:L.a()}),onSubmit:function(t){console.log(t);var a={gender:t.gender,user_details:{height:t.height,weight:t.weight,home_gym:t.home_gym,date_of_birth:t.date_of_birth}};e.saveData(a),e.registerUser()}}),a=t.getFieldProps,n=t.handleSubmit,c=(t.values,t.errors),l=t.touched;return r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(b.a,{className:"mt-3"},r.a.createElement(p.a,null,r.a.createElement(k.a.Group,{className:"text-center"},r.a.createElement(k.a.Control,Object.assign({className:"text-center",as:"select",name:"gender"},a("gender")),r.a.createElement("option",{disabled:!0,selected:!0},"Gender"),r.a.createElement("option",{value:"M"},"Male"),r.a.createElement("option",{value:"F"},"Female")),r.a.createElement(k.a.Text,{className:"text-muted"},"For tracking your Rx workouts."),r.a.createElement(k.a.Text,null,c.gender&&l.gender?c.gender:null)))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(k.a.Group,{className:"text-center"},r.a.createElement(k.a.Text,{className:"mb-1"},"(Optional)"),r.a.createElement(k.a.Control,Object.assign({className:"text-center",type:"number",placeholder:"Height in cm"},a("height")))))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Control,Object.assign({className:"text-center",type:"number",placeholder:"Weight in kg"},a("weight")))))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Control,Object.assign({className:"text-center",type:"text",placeholder:"Gym name"},a("home_gym")))))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(k.a.Group,{className:"text-center"},r.a.createElement(k.a.Label,{className:"mb-0"},"Date of Birth"),r.a.createElement(k.a.Text,null,"(Optional)"),r.a.createElement(k.a.Control,Object.assign({type:"date",name:"date_of_birth"},a("date_of_birth")))))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(x.a,{variant:"warning",block:!0,onClick:n},"Register")))))}var X=function(e){Object(G.a)(a,e);var t=Object(U.a)(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={step:1,firstname:null,lastname:null,username:null,email:null,password:null,gender:null,user_details:{height:null,weight:null,home_gym:null,date_of_birth:null}},e.nextStep=function(){e.setState({step:e.state.step+1})},e.previousStep=function(){e.setState({step:e.state.step-1})},e.saveData=function(t){var a=e.state,n=e.addToObject(a,t);e.setState({res:n}),console.log("FROM REGISTER"),console.log(e.state)},e.registerUser=function(){var t=e.state;delete t.step,delete t.res,console.log("REGISTERING WITH THIS"),console.log(t),N.a.post("".concat("https://pbandjot.herokuapp.com/api","/auth/register"),t).then((function(t){console.log(t.data),localStorage.setItem("token",t.data.token),e.props.history.push("/home")})).catch((function(e){console.log(e)}))},e}return Object(Y.a)(a,[{key:"addToObject",value:function(e,t){for(var a in t)e[a]=t[a];return e}},{key:"render",value:function(){var e="";switch(this.state.step){case 1:e=r.a.createElement(z,{saveData:this.saveData,nextStep:this.nextStep});break;case 2:e=r.a.createElement(K,{saveData:this.saveData,nextStep:this.nextStep});break;case 3:e=r.a.createElement(q,{saveData:this.saveData,registerUser:this.registerUser})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(b.a,{className:"justify-content-center yellow__text my-3"},r.a.createElement(p.a,{className:"text-center"},r.a.createElement("h1",null,"You're on your way to gains city."))),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{md:{span:4},xs:{span:10}},r.a.createElement(k.a,null,e))))))}}]),a}(n.Component),V=Object(m.g)(X);function Z(e){var t=Object(n.useState)({username:null,password:null}),a=Object(o.a)(t,2),c=a[0],l=a[1],s=function(e){l(Object(f.a)(Object(f.a)({},c),{},Object(g.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(b.a,{className:"justify-content-center yellow__text my-3"},r.a.createElement(p.a,{className:"text-center"},r.a.createElement("h1",null,"Login to record your gains."))),r.a.createElement(b.a,{className:"justify-content-center my-5"},r.a.createElement(p.a,{className:"text-center",md:{span:4},xs:{span:10}},r.a.createElement(k.a,null,r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,"Username"),r.a.createElement(k.a.Control,{type:"text",name:"username",placeholder:"",onChange:s})),r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,"Password"),r.a.createElement(k.a.Control,{type:"password",name:"password",placeholder:"",onChange:s}),r.a.createElement(k.a.Text,{className:""},e.loginError?e.loginError:r.a.createElement("span",null,"\xa0"))),r.a.createElement(x.a,{variant:"warning",onClick:function(t){t.preventDefault(),console.log("login clicked"),e.loginHandler(c)},block:!0},"Login")))))))}var $=a(233),ee=a(234),te=a.n(ee);function ae(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:te.a,alt:"workout",className:"p-2"}))}function ne(e){var t=e.record,a=function(e,t){switch(console.log(e),t.workout_type){case"weightlifting":return"".concat(e.pb_weight," lb");case"benchmark":return"".concat(e.pb_time_min,":").concat(e.pb_time_sec.toString().padStart(2,"0"))}}(t,e.workout);console.log(a);var n=0==e.rank?"lead":"";return r.a.createElement("div",null,r.a.createElement(b.a,{className:"text-center mb-2"},r.a.createElement(p.a,{className:n},w()(t.pb_date).format("DD MMM YYYY")),r.a.createElement(p.a,{className:n},a)))}var re=a(235),ce=a.n(re);function le(e){var t=(new Date).toISOString().substring(0,10),a=Object(W.a)({initialValues:{pbDate:t,pbWeight:null,pbTimeMin:null,pbTimeSec:null},validationSchema:L.d().shape({pbDate:L.a(),pbWeight:L.c(),pbTimeMin:L.c().nullable(),pbTimeSec:L.c().max(59).nullable()}),onSubmit:function(t){e.handleCloseModal(),console.log(t);var a={pb_date:t.pbDate,pb_weight:t.pbWeight,pb_time_min:t.pbTimeMin,pb_time_sec:t.pbTimeSec};console.log(a),e.addRecord(a)}}),n=a.getFieldProps,c=a.handleSubmit,l=(a.values,a.errors,a.touched,r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{className:"text-center",md:{span:4},xs:{span:6}},r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,"Your PB Time"),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(k.a.Control,Object.assign({type:"number",placeHolder:"min",className:"text-center"},n("pbTimeMin")))),r.a.createElement(p.a,null,r.a.createElement(k.a.Control,Object.assign({type:"number",placeHolder:"sec",className:"text-center"},n("pbTimeSec")))))))));return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"yellow__text text-center my-3"},"WHAT IS YOUR NEW PERSONAL BEST?")),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,null,r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{className:"text-center",md:{span:3},xs:{span:4}},r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,{className:""},"Weight in lb"),r.a.createElement(k.a.Control,Object.assign({type:"number",placeholder:"lb",className:"text-center"},n("pbWeight")))))),"weightlifting"!=e.workout_type&&l,r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{className:"text-center",md:{span:6},xs:{span:6}},r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,"Date of PB"),r.a.createElement(k.a.Control,Object.assign({type:"date",max:t},n("pbDate")))))),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{className:"text-center my-3",md:{span:6},xs:{span:6}},r.a.createElement(x.a,{variant:"warning",onClick:c,block:!0},"SAVE")))))))}function oe(e){var t=r.a.createElement("a",{href:"/home"},r.a.createElement("img",{src:ce.a,alt:"back",width:"30px",className:"top__left__padded"})),a=Object(m.f)(),c=Object(n.useState)(e.currentWorkout),l=Object(o.a)(c,2),s=l[0],u=l[1],d=function(){var e=Object(E.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,N.a.get("".concat("https://pbandjot.herokuapp.com/api","/records/allworkouts/").concat(s._id),{headers:{"x-auth-token":t}});case 3:a=e.sent,u(a.data.workouts[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object.keys(s).length<1&&a.push("/home");var h=null;if(Object.keys(s).length>0){var g=s.records;g.sort((function(e,t){return e.pb_date>t.pb_date?-1:e.pb_date<t.pb_date?1:0})),h=g.map((function(e,t){return r.a.createElement(ne,{record:e,workout:s,key:e._id,rank:t})}))}var f=Object(n.useState)(!1),k=Object(o.a)(f,2),v=k[0],_=k[1],w=function(){return _(!1)},j=r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"justify-content-center yellow__background p-2"},t,r.a.createElement(p.a,null,r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"text-center mt-2"},r.a.createElement("h1",null,s.workout_name))),r.a.createElement(b.a,null,r.a.createElement(p.a,null,r.a.createElement(ae,null))),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,{className:"text-center small m-2",md:{span:6},xs:{span:12}},s.description)))),r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"text-center m-3 font-weight-bold yellow__text"},"Your Personal Bests")),r.a.createElement(b.a,{className:"justify-content-center p-2"},r.a.createElement(p.a,{md:{span:6},xs:{span:12}},h)),r.a.createElement(b.a,{className:"justify-content-center p-2"},r.a.createElement(p.a,{md:{span:6},xs:{span:6}},r.a.createElement(x.a,{variant:"warning",onClick:function(){return _(!0)},block:!0},"Add New PB")))),C="";s&&(C=j);var O=function(){var e=Object(E.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),t.workout_id=s._id,e.next=4,N.a.post("".concat("https://pbandjot.herokuapp.com/api","/records"),t,{headers:{"x-auth-token":a}});case 4:e.sent,d();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=r.a.createElement(y.a,{show:v,onHide:w,centered:!0},r.a.createElement(y.a.Body,null,r.a.createElement(le,{workout_type:s.workout_type,handleCloseModal:w,addRecord:O})));return r.a.createElement(r.a.Fragment,null,C,S)}function se(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),s=Object(o.a)(l,2),m=s[0],u=s[1],i=Object(n.useState)(0),E=Object(o.a)(i,2),d=E[0],h=E[1],g=Object(n.useState)(0),f=Object(o.a)(g,2),k=f[0],v=f[1],y=Object(n.useState)(0),_=Object(o.a)(y,2),w=_[0],j=_[1],N=Object(n.useState)(0),C=Object(o.a)(N,2),O=C[0],S=C[1],I=Object(n.useState)(0),R=Object(o.a)(I,2),A=R[0],Q=R[1],M=2*(a+m+d+k+w+O)+A;return r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(p.a,null,r.a.createElement(b.a,{className:"justify-content-center yellow__text my-3"},r.a.createElement(p.a,{className:"text-center"},r.a.createElement("h4",null,"Barbell PB Calculator"))),r.a.createElement(b.a,{className:"justify-content-center text-center mt-3"},r.a.createElement(p.a,null,"Barbell Weight")),r.a.createElement(b.a,{className:"justify-content-center text-center mt-2"},r.a.createElement(p.a,null,r.a.createElement(x.a,{size:"lg",className:"m-1",onClick:function(){return Q(35)},variant:"outline-light"},"35"),r.a.createElement(x.a,{size:"lg",className:"m-1",onClick:function(){return Q(45)},variant:"outline-light"},"45"))),r.a.createElement(b.a,{className:"justify-content-center text-center mt-3"},r.a.createElement(p.a,null,"Bumper Plates")),r.a.createElement(b.a,{className:"justify-content-center text-center mt-2"},r.a.createElement(p.a,{md:{span:7},xs:{span:6}},r.a.createElement(b.a,null,r.a.createElement(p.a,{className:"text-center px-1 mt-1"},r.a.createElement(x.a,{block:!0,className:"",onClick:function(){return c(a+10)},variant:"light"},"10"),a>0?a/10:r.a.createElement("span",null,"\xa0")),r.a.createElement(p.a,{className:"text-center px-1 mt-1"},r.a.createElement(x.a,{block:!0,className:"",onClick:function(){return u(m+15)},variant:"secondary"},"15"),m>0?m/15:r.a.createElement("span",null,"\xa0")),r.a.createElement(p.a,{className:"text-center px-1 mt-1"},r.a.createElement(x.a,{block:!0,className:"",onClick:function(){return h(d+25)},variant:"success"},"25"),d>0&&d/25),r.a.createElement(p.a,{className:"text-center px-1 mt-1"},r.a.createElement(x.a,{block:!0,className:"",onClick:function(){return v(k+35)},variant:"warning"},"35"),k>0&&k/35),r.a.createElement(p.a,{className:"text-center px-1 mt-1"},r.a.createElement(x.a,{block:!0,className:"",onClick:function(){return j(w+45)},variant:"primary"},"45"),w>0&&w/45),r.a.createElement(p.a,{className:"text-center px-1 mt-1"},r.a.createElement(x.a,{block:!0,className:"",onClick:function(){return S(O+55)},variant:"danger"},"55"),O>0&&O/55)))),r.a.createElement(b.a,{className:"justify-content-center text-center"},r.a.createElement(p.a,null,r.a.createElement("p",{className:"display-1 text-nowrap"},M," lb"))),r.a.createElement(b.a,{className:"justify-content-center text-center"},r.a.createElement(p.a,null,r.a.createElement(x.a,{size:"lg",className:"m-2",onClick:function(){c(0),u(0),h(0),v(0),j(0),S(0),Q(0)},variant:"outline-light"},"Clear")))))}var me=a(236),ue=a.n(me);function ie(){return r.a.createElement("div",{className:"text-center yellow__text"},r.a.createElement("h1",{className:"my-3"},"Share your gains with a friend."),r.a.createElement("div",null,r.a.createElement("img",{src:ue.a,alt:"pbandjot",className:"p-2"})))}var Ee="https://pbandjot.herokuapp.com/api";var pe=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),i=(u[0],u[1],Object(n.useState)(null)),E=Object(o.a)(i,2),p=E[0],d=E[1],h=Object(n.useState)({}),b=Object(o.a)(h,2),g=b[0],f=b[1],k=Object(n.useState)(""),x=Object(o.a)(k,2),v=x[0],y=x[1],_=function(e){N.a.get("".concat(Ee,"/auth/user"),{headers:{"x-auth-token":e}}).then((function(e){c(!0),d(e.data.user),console.log(e.data.user)})).catch((function(e){console.log(e)}))};return Object(n.useEffect)((function(){var e=localStorage.getItem("token");null!=e&&(Object($.decode)(e)?_(e):localStorage.removeItem("token"));console.log(g)}),[a]),r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(F,{isAuth:a,logoutHandler:function(){localStorage.clear("token"),c(!1)}}),r.a.createElement("div",{className:"top__right font-italic"},p&&"@".concat(p.username)),r.a.createElement("div",{className:"pt-5"},r.a.createElement(m.c,null,r.a.createElement(D.a,null,r.a.createElement(m.a,{path:"/home",exact:!0},r.a.createElement(T,{user:p,isAuth:a,setCurrentWorkout:f})),r.a.createElement(m.a,{path:"/records"},r.a.createElement(S,null)),r.a.createElement(m.a,{path:"/workout"},r.a.createElement(oe,{currentWorkout:g})),r.a.createElement(m.a,{path:"/register",exact:!0},r.a.createElement(V,null)),r.a.createElement(m.a,{path:"/login",exact:!0},a?r.a.createElement(T,{user:p,isAuth:a,setCurrentWorkout:f}):r.a.createElement(Z,{loginHandler:function(e){N.a.post("".concat(Ee,"/auth/login"),e).then((function(e){localStorage.setItem("token",e.data.token),_(e.data.token),c(!0),y("")})).catch((function(e){console.log("ERROR HERE"),console.log(e),y(e.response.data.message)}))},loginError:v})),r.a.createElement(m.a,{path:"/calculator"},r.a.createElement(se,null)),r.a.createElement(m.a,{path:"/share"},r.a.createElement(ie,null)),r.a.createElement(m.a,{path:"/",exact:!0},r.a.createElement(T,{user:p,isAuth:a,setCurrentWorkout:f})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(400);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[238,1,2]]]);
//# sourceMappingURL=main.264c653b.chunk.js.map